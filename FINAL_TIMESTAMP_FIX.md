# üéØ –§–ò–ù–ê–õ–¨–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï - TIMESTAMP

## ‚ùå –ù–∞—Å—Ç–æ—è—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞

Pyrogram –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Ä–µ–º—è —Å–æ–æ–±—â–µ–Ω–∏–π –≤ **–ª–æ–∫–∞–ª—å–Ω–æ–º —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ –ë–ï–ó timezone info**:
```
Original: 2025-11-04 05:28:25 (TZ: None)
```

–°—Ç–∞—Ä—ã–π –∫–æ–¥ –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª—è–ª UTC:
```python
msg_date = msg_date.replace(tzinfo=timezone.utc)  # –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û!
```

–≠—Ç–æ –ø—Ä–µ–≤—Ä–∞—â–∞–ª–æ "05:28 –ú–°–ö" –≤ "05:28 UTC" - —Ä–∞–∑–Ω–∏—Ü–∞ 3 —á–∞—Å–∞! ‚ùå

---

## ‚úÖ –ù–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑—É–µ–º **TIMESTAMP** (UNIX time - –≤—Å–µ–≥–¥–∞ UTC):
```python
# 1. –ü–æ–ª—É—á–∞–µ–º timestamp (—Å–µ–∫—É–Ω–¥—ã —Å 1970-01-01 UTC)
timestamp = original_date.timestamp()

# 2. –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –æ–±—Ä–∞—Ç–Ω–æ –≤ UTC datetime
msg_date = datetime.fromtimestamp(timestamp, tz=timezone.utc)
```

–ú–µ—Ç–æ–¥ `.timestamp()` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –°—á–∏—Ç–∞–µ—Ç datetime –ë–ï–ó timezone –∫–∞–∫ –ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
- –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤ UTC
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç UNIX timestamp

---

## üß™ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –¢–ï–°–¢

### ‚ö†Ô∏è –≠–¢–û –ü–û–°–õ–ï–î–ù–ò–ô –¢–ï–°–¢!

### 1Ô∏è‚É£ –ü–ï–†–ï–ó–ê–ü–£–°–¢–ò–¢–ï BACKEND
```powershell
# Ctrl+C –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ backend
python run_backend.py
```

### 2Ô∏è‚É£ –û–ß–ò–°–¢–ò–¢–ï SUPABASE –ü–û–õ–ù–û–°–¢–¨–Æ
Supabase ‚Üí Table Editor ‚Üí `messages` ‚Üí **–£–¥–∞–ª–∏—Ç–µ –í–°–ï —Å—Ç—Ä–æ–∫–∏**

### 3Ô∏è‚É£ –ó–ê–ü–£–°–¢–ò–¢–ï –ü–ê–†–°–ï–†
Frontend ‚Üí **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥**

### 4Ô∏è‚É£ –°–ú–û–¢–†–ò–¢–ï –ù–û–í–´–ï –õ–û–ì–ò
–¢–µ–ø–µ—Ä—å –±—É–¥–µ—Ç –≤–∏–¥–Ω–æ:
```
>>> Checking message #1:
      Original datetime: 2025-11-04 05:28:25 (TZ: None)
      Timestamp: 1730702905
      UTC datetime: 2025-11-04 02:28:25 UTC  ‚Üê –í–û–¢ –ü–†–ê–í–ò–õ–¨–ù–û–ï –í–†–ï–ú–Ø!
      Time limit: 2025-11-04 07:24:53 UTC
```

### 5Ô∏è‚É£ –ü–†–û–í–ï–†–¨–¢–ï SUPABASE
–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL:
```sql
SELECT 
    MIN(message_time) as earliest,
    MAX(message_time) as latest,
    EXTRACT(EPOCH FROM (MAX(message_time) - MIN(message_time)))/3600 as hours
FROM messages;
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å: hours ‚â§ 1.0**

---

## üìä –ö–∞–∫ –ø–æ–Ω—è—Ç—å —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

–í –ª–æ–≥–∞—Ö backend **UTC datetime –î–û–õ–ñ–ù–û –ë–´–¢–¨ –ù–ê 3 –ß–ê–°–ê –ú–ï–ù–¨–®–ï —á–µ–º Original datetime**:
```
Original: 05:28:25  (–≤–∞—à–µ –º–µ—Å—Ç–Ω–æ–µ –≤—Ä–µ–º—è)
UTC:      02:28:25  (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ UTC = Original - 3 —á–∞—Å–∞) ‚úì
```

–ï—Å–ª–∏ —Ä–∞–∑–Ω–∏—Ü—ã –Ω–µ—Ç - —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫!

---

## ‚úÖ –§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê

–ü–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤ Supabase:
- ‚úÖ –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ **–º–∞–∫—Å–∏–º—É–º 1 —á–∞—Å**
- ‚úÖ –ù–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π —Å—Ç–∞—Ä—à–µ `current_time - 1 hour`
- ‚úÖ –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏

---

**–î–ï–†–ó–ê–ô–¢–ï! –≠—Ç–æ –¥–æ–ª–∂–Ω–æ –û–ö–û–ù–ß–ê–¢–ï–õ–¨–ù–û –†–ï–®–ò–¢–¨ –ø—Ä–æ–±–ª–µ–º—É! üöÄ**

