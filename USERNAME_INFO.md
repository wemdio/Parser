# –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –Æ–ó–ï–†–ù–ï–ô–ú–ê–• –í TELEGRAM

## ‚ùå –ü–æ—á–µ–º—É username –ø—É—Å—Ç–æ–π?

–í Telegram **username (–∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)** - —ç—Ç–æ **–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ**. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç:

1. **–ù–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å username –≤–æ–æ–±—â–µ** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é username –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)
2. **–°–∫—Ä—ã—Ç—å username** –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏
3. **–ò–∑–º–µ–Ω—è—Ç—å username** –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

–ü–æ –¥–∞–Ω–Ω—ã–º Telegram:
- ‚ùå **~60-70% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** –ù–ï –∏–º–µ—é—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ username
- ‚úÖ **~30-40% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** –∏–º–µ—é—Ç username

---

## üîí –ú–æ–∂–Ω–æ –ª–∏ –æ–±–æ–π—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏?

**–ù–ï–¢!** Telegram **–∑–∞—â–∏—â–∞–µ—Ç –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**.

–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
- –ù–µ —É—Å—Ç–∞–Ω–æ–≤–∏–ª username
- –°–∫—Ä—ã–ª username –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏

–¢–æ API **–ù–ï –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç** —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é. –≠—Ç–æ **–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏** –ª–µ–≥–∞–ª—å–Ω–æ.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ User ID

**User ID** - —ç—Ç–æ **—É–Ω–∏–∫–∞–ª—å–Ω—ã–π —á–∏—Å–ª–æ–≤–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä**:

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ User ID:

1. ‚úÖ **–í—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω** - –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–∫—Ä—ã—Ç—å
2. ‚úÖ **–£–Ω–∏–∫–∞–ª–µ–Ω** - –∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç —Å–≤–æ–π ID
3. ‚úÖ **–ù–µ –º–µ–Ω—è–µ—Ç—Å—è** - ID –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞–≤—Å–µ–≥–¥–∞
4. ‚úÖ **–ß–∏—Å–ª–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ** - —É–¥–æ–±–Ω–æ –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –∏ –ø–æ–∏—Å–∫–∞

### –ü—Ä–∏–º–µ—Ä:

| User ID | Username | First Name | Last Name |
|---------|----------|------------|-----------|
| 123456789 | @john_doe | John | Doe |
| 987654321 | `null` | –ú–∞—Ä–∏—è | –ò–≤–∞–Ω–æ–≤–∞ |
| 555444333 | `null` | –ê–ª–µ–∫—Å–µ–π | `null` |

---

## üîß –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ `user_id` –≤ —Ç–∞–±–ª–∏—Ü—É `messages`

```sql
ALTER TABLE messages ADD COLUMN user_id BIGINT;
```

### 2. –ü–∞—Ä—Å–µ—Ä —Ç–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç `user_id`

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è:
- ‚úÖ `user_id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID (–≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å)
- ‚úÖ `first_name` - –∏–º—è (–æ–±—ã—á–Ω–æ –µ—Å—Ç—å)
- ‚úÖ `last_name` - —Ñ–∞–º–∏–ª–∏—è (–º–æ–∂–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å)
- ‚ö†Ô∏è `username` - —é–∑–µ—Ä–Ω–µ–π–º (—á–∞—Å—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)
- ‚ö†Ô∏è `bio` - –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è (—á–∞—Å—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)

---

## üìä –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å User ID

### –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

–í–º–µ—Å—Ç–æ username –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `user_id`:

```sql
-- –ù–∞–π—Ç–∏ –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
SELECT * FROM messages WHERE user_id = 123456789;

-- –ü–æ–¥—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
SELECT 
    user_id, 
    first_name, 
    last_name, 
    username,
    COUNT(*) as message_count
FROM messages
GROUP BY user_id, first_name, last_name, username
ORDER BY message_count DESC;

-- –ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ–∑ username
SELECT DISTINCT 
    user_id, 
    first_name, 
    last_name
FROM messages
WHERE username IS NULL;
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `user_id` –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏** - —ç—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–±
2. **`username` - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** - –Ω–µ –ø–æ–ª–∞–≥–∞–π—Ç–µ—Å—å –Ω–∞ –Ω–µ–≥–æ
3. **`first_name` –æ–±—ã—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω–æ** - –Ω–æ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è
4. **–ö–æ–º–±–∏–Ω–∏—Ä—É–π—Ç–µ –ø–æ–ª—è** –¥–ª—è –ª—É—á—à–µ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:
   - `user_id` (–≥–ª–∞–≤–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä)
   - `first_name` + `last_name` (–¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è)
   - `username` (–µ—Å–ª–∏ –µ—Å—Ç—å)

---

## ‚ö° –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend

–ü–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π:

```powershell
Ctrl+C
python run_backend.py
```

–¢–µ–ø–µ—Ä—å –≤—Å–µ –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å `user_id`!

