# üåç –ò–°–ü–†–ê–í–õ–ï–ù–ê –ü–†–û–ë–õ–ï–ú–ê –° –ß–ê–°–û–í–´–ú–ò –ü–û–Ø–°–ê–ú–ò

## ‚ùå –ß—Ç–æ –±—ã–ª–æ –Ω–µ —Ç–∞–∫?

Telegram API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Ä–µ–º—è —Å–æ–æ–±—â–µ–Ω–∏–π –≤ **–≤–∞—à–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–º —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ** (UTC+3),
–Ω–æ –º—ã —Å—Ä–∞–≤–Ω–∏–≤–∞–ª–∏ –µ–≥–æ —Å **UTC –≤—Ä–µ–º–µ–Ω–µ–º —Å–µ—Ä–≤–µ—Ä–∞**.

**–ü—Ä–∏–º–µ—Ä:**
- –°–µ—Ä–≤–µ—Ä: `02:44 UTC`
- –°–æ–æ–±—â–µ–Ω–∏–µ: `05:10` (–Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ `02:10 UTC`, –Ω–æ –ø–æ–∫–∞–∑–∞–Ω–æ –∫–∞–∫ `05:10` –≤ UTC+3)
- –ö–æ–¥ –¥—É–º–∞–ª: "05:10 > 02:44, –∑–Ω–∞—á–∏—Ç –Ω–æ–≤–æ–µ!" ‚ùå
- **–†–µ–∑—É–ª—å—Ç–∞—Ç: –°–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –í–°–ï —Å–æ–æ–±—â–µ–Ω–∏—è, –¥–∞–∂–µ —Å—Ç–∞—Ä—ã–µ**

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ?

–¢–µ–ø–µ—Ä—å –∫–æ–¥ **–ø—Ä–∞–≤–∏–ª—å–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç** –≤—Ä–µ–º—è:
```python
# –ï—Å–ª–∏ –µ—Å—Ç—å —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å - –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ UTC
msg_date = msg_date.astimezone(timezone.utc)
```

---

## üß™ –¢–ï–°–¢ (–í–ê–ñ–ù–û!)

### 1Ô∏è‚É£ –ü–ï–†–ï–ó–ê–ü–£–°–¢–ò–¢–ï BACKEND

```powershell
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ backend (Ctrl+C, –∑–∞—Ç–µ–º):
python run_backend.py
```

### 2Ô∏è‚É£ –û–ß–ò–°–¢–ò–¢–ï SUPABASE (–µ—â–µ —Ä–∞–∑)

–û—Ç–∫—Ä–æ–π—Ç–µ Supabase ‚Üí Table Editor ‚Üí `messages` ‚Üí —É–¥–∞–ª–∏—Ç–µ –í–°–ï —Å—Ç—Ä–æ–∫–∏

### 3Ô∏è‚É£ –ó–ê–ü–£–°–¢–ò–¢–ï –ü–ê–†–°–ï–†

Frontend ‚Üí **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥**

### 4Ô∏è‚É£ –°–ú–û–¢–†–ò–¢–ï –õ–û–ì–ò BACKEND

–¢–µ–ø–µ—Ä—å –≤—ã —É–≤–∏–¥–∏—Ç–µ:
```
>>> Checking message #1:
      Original: 2025-11-04 05:10:34 (TZ: UTC+03:00)  ‚Üê –í–∞—à —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å
      UTC:      2025-11-04 02:10:34 UTC              ‚Üê –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ UTC –≤—Ä–µ–º—è
```

### 5Ô∏è‚É£ –ü–†–û–í–ï–†–¨–¢–ï SUPABASE

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –¢–û–õ–¨–ö–û —Å–æ–æ–±—â–µ–Ω–∏—è –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å!

---

## üìä –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ Supabase

–ü–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∑–∞–ø—Ä–æ—Å:

```sql
SELECT 
    MIN(message_time) as earliest,
    MAX(message_time) as latest,
    COUNT(*) as total,
    EXTRACT(EPOCH FROM (MAX(message_time) - MIN(message_time)))/3600 as hours_span
FROM messages;
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- `hours_span` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å ‚â§ 1.0 (–º–∞–∫—Å–∏–º—É–º 1 —á–∞—Å)

---

## ‚úÖ –ì–û–¢–û–í–û!

–¢–µ–ø–µ—Ä—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ü–†–ê–í–ò–õ–¨–ù–û! üéâ

