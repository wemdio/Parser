# ะะะ ะกะะฏะะะขะฌะกะฏ ะก ะะะะฌะะะะะขะะะฏะะ ะะ ะะะะกะะะ

## ๐ฏ ะัะฐะบัะธัะตัะบะพะต ััะบะพะฒะพะดััะฒะพ

### ะกัะตะฝะฐัะธะน:
ะั ะฝะฐัะปะธ ะธะฝัะตัะตัะฝะพะต ัะพะพะฑัะตะฝะธะต ะฒ ะฑะฐะทะต ะธ ัะพัะธัะต ัะฒัะทะฐัััั ั ะฐะฒัะพัะพะผ.

---

## ๐ ะะฐะฝะฝัะต ะฒ ะฑะฐะทะต

ะะปั ะบะฐะถะดะพะณะพ ะฟะพะปัะทะพะฒะฐัะตะปั ัะพััะฐะฝััััั:
- โ `user_id` - ัะฝะธะบะฐะปัะฝัะน ID (ะฒัะตะณะดะฐ ะตััั)
- โ `first_name` - ะธะผั
- โ๏ธ `username` - ัะทะตัะฝะตะนะผ (ัะฐััะพ ะพััััััะฒัะตั)
- โ `profile_link` - **ะณะพัะพะฒะฐั ัััะปะบะฐ ะฝะฐ ะฟัะพัะธะปั**

---

## ๐ ะขะธะฟั ัััะปะพะบ

### 1. **ะัะปะธ ะตััั username** โ

**ะกััะปะบะฐ:**
```
https://t.me/username
```

**ะะฐะบ ะธัะฟะพะปัะทะพะฒะฐัั:**
1. ะัะบัะพะนัะต ัััะปะบั ะฒ ะฑัะฐัะทะตัะต ะธะปะธ Telegram
2. ะัะบัะพะตััั ะฟัะพัะธะปั ะฟะพะปัะทะพะฒะฐัะตะปั
3. ะะพะถะตัะต ััะฐะทั **ะฝะฐะฟะธัะฐัั ัะพะพะฑัะตะฝะธะต**

**ะัะธะผะตั:**
```
https://t.me/john_doe
```

---

### 2. **ะัะปะธ ะะะข username** โ๏ธ

**ะกััะปะบะฐ:**
```
tg://user?id=123456789
```

**ะะฐะบ ะธัะฟะพะปัะทะพะฒะฐัั:**
1. ะััะฐะฒััะต ัััะปะบั ะฒ **ะฐะดัะตัะฝัั ัััะพะบั ะฑัะฐัะทะตัะฐ**
2. ะัะฐัะทะตั ะฟัะตะดะปะพะถะธั ะพัะบัััั Telegram
3. ะัะบัะพะตััั **ะฟัะพัะธะปั ะฟะพะปัะทะพะฒะฐัะตะปั**

**ะะ:** ะะฐะฟะธัะฐัั ะผะพะถะฝะพ ัะพะปัะบะพ ะตัะปะธ:
- ๐ข ะั ะฒ **ะพะฑัะตะผ ัะฐัะต** ั ััะธะผ ะฟะพะปัะทะพะฒะฐัะตะปะตะผ
- ๐ข ะะพะปัะทะพะฒะฐัะตะปั **ัะฐะผ ะฒะฐะผ ะฝะฐะฟะธัะฐะป** ะฟะตัะฒัะผ
- ๐ข ะะณะพ ะฝะพะผะตั **ะฒ ะฒะฐัะธั ะบะพะฝัะฐะบัะฐั**

**ะะฝะฐัะต:** ะะฝะพะฟะบะธ "ะะฐะฟะธัะฐัั" ะฝะต ะฑัะดะตั (ะทะฐัะธัะฐ ะพั ัะฟะฐะผะฐ)

---

## ๐ก ะะฐะบ ะฝะฐะนัะธ ะฟะพะปัะทะพะฒะฐัะตะปั

### ะะฐัะธะฐะฝั 1: **ะะพะธัะบ ะฒ ะพะฑัะธั ัะฐัะฐั**

ะัะปะธ ะฟะพะปัะทะพะฒะฐัะตะปั ะฟะธัะฐะป ะฒ ัะฐัะฐั, ะบะพัะพััะต ะฒั ะฟะฐััะธัะต:
1. ะั ัะถะต **ะฒ ะพะฑัะตะผ ัะฐัะต** ั ะฝะธะผ
2. ะัะบัะพะนัะต ะฟัะพัะธะปั ะฟะพ ัััะปะบะต `tg://user?id=...`
3. ะะฝะพะฟะบะฐ "ะะฐะฟะธัะฐัั" ะฑัะดะตั ะดะพัััะฟะฝะฐ

---

### ะะฐัะธะฐะฝั 2: **ะงะตัะตะท ะธะผั ะธ ัะฐะผะธะปะธั**

ะัะฟะพะปัะทัะนัะต ะณะปะพะฑะฐะปัะฝัะน ะฟะพะธัะบ Telegram:
1. ะัะบัะพะนัะต Telegram
2. ะ ะฟะพะธัะบะต ะฒะฒะตะดะธัะต: `ะะผั ะคะฐะผะธะปะธั` ะธะท ะฑะฐะทั
3. ะะฐะนะดะธัะต ะฝัะถะฝะพะณะพ ัะตะปะพะฒะตะบะฐ
4. ะะฐะฟะธัะธัะต ะตะผั

---

### ะะฐัะธะฐะฝั 3: **ะะพะฟัะพัะธัั username**

ะัะปะธ ะฒะฐะถะฝะพ ัะฒัะทะฐัััั:
1. ะะฐะนะดะธัะต ะดััะณะธะต ะตะณะพ ัะพะพะฑัะตะฝะธั ะฒ ัะฐัะฐั
2. ะะฐะฟะธัะธัะต ะฒ ะพะฑัะธะน ัะฐั: "ะัะธะฒะตั, @ะธะผั, ะฝะฐะฟะธัะธ ะผะฝะต ะฒ ะปะธัะบั"
3. ะะพะณะดะฐ ะพะฝ ะฝะฐะฟะธัะตั - ัะผะพะถะตัะต ะพัะฒะตัะธัั

---

## ๐ SQL ะทะฐะฟัะพัั ะดะปั ะฟะพะธัะบะฐ

### ะะฐะนัะธ ะฟะพะปัะทะพะฒะฐัะตะปะตะน ะก username:

```sql
SELECT 
    user_id,
    first_name,
    last_name,
    username,
    profile_link,
    COUNT(*) as message_count
FROM messages
WHERE username IS NOT NULL
GROUP BY user_id, first_name, last_name, username, profile_link
ORDER BY message_count DESC;
```

### ะะฐะนัะธ ะฟะพะปัะทะพะฒะฐัะตะปะตะน ะะะ username:

```sql
SELECT 
    user_id,
    first_name,
    last_name,
    profile_link,
    COUNT(*) as message_count
FROM messages
WHERE username IS NULL
GROUP BY user_id, first_name, last_name, profile_link
ORDER BY message_count DESC;
```

### ะะฐะนัะธ ะบะพะฝะบัะตัะฝะพะณะพ ะฟะพะปัะทะพะฒะฐัะตะปั ะฟะพ ะธะผะตะฝะธ:

```sql
SELECT DISTINCT
    user_id,
    first_name,
    last_name,
    username,
    profile_link
FROM messages
WHERE 
    first_name ILIKE '%ะะฒะฐะฝ%'  -- ะทะฐะผะตะฝะธัะต ะฝะฐ ะฝัะถะฝะพะต ะธะผั
ORDER BY first_name, last_name;
```

---

## ๐ค ะะฒัะพะผะฐัะธัะตัะบะฐั ะพัะฟัะฐะฒะบะฐ ัะพะพะฑัะตะฝะธะน

### โ๏ธ ะก user account (ัะตะบััะธะน ะฟะฐััะตั):

**ะะะะฌะะฏ ะผะฐััะพะฒะพ ะพัะฟัะฐะฒะปััั ัะพะพะฑัะตะฝะธั!**

Telegram:
- ๐ด ะะฐะฑะปะพะบะธััะตั ะฐะบะบะฐัะฝั ะทะฐ ัะฟะฐะผ
- ๐ด ะะณัะฐะฝะธัะธะฒะฐะตั ะบะพะปะธัะตััะฒะพ ะฝะพะฒัั ะดะธะฐะปะพะณะพะฒ
- ๐ด ะขัะตะฑัะตั, ััะพะฑั ะฟะพะปัะทะพะฒะฐัะตะปั ะฝะฐะฟะธัะฐะป ะฟะตัะฒัะผ

---

### โ ะก Telegram Bot:

ะัะปะธ ะฝัะถะฝะพ **ะฐะฒัะพะผะฐัะธัะตัะบะธ** ะฟะธัะฐัั ะฟะพะปัะทะพะฒะฐัะตะปัะผ:

1. ะกะพะทะดะฐะนัะต **Telegram Bot** ัะตัะตะท [@BotFather](https://t.me/botfather)
2. ะะพะปัะทะพะฒะฐัะตะปะธ ะดะพะปะถะฝั **ัะฐะผะธ** ะฝะฐะฟะธัะฐัั ะฑะพัั `/start`
3. ะะพัะปะต ััะพะณะพ ะฑะพั ะผะพะถะตั ะธะผ ะฟะธัะฐัั

**ะะ:** ะะตะปัะทั ะฟะธัะฐัั ะฟะพะปัะทะพะฒะฐัะตะปัะผ, ะบะพัะพััะต ะฝะต ะฟะธัะฐะปะธ ะฑะพัั.

---

## ๐ ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ะัะธะผะตั 1: ะกะฒัะทะฐัััั ั ะฐะบัะธะฒะฝัะผ ะบะพะผะผะตะฝัะฐัะพัะพะผ

```sql
-- ะะฐัะพะดะธะผ ัะฐะผะพะณะพ ะฐะบัะธะฒะฝะพะณะพ ะฟะพะปัะทะพะฒะฐัะตะปั
SELECT 
    user_id,
    first_name || ' ' || COALESCE(last_name, '') as full_name,
    username,
    profile_link,
    COUNT(*) as messages
FROM messages
WHERE message_time > NOW() - INTERVAL '24 hours'
GROUP BY user_id, first_name, last_name, username, profile_link
ORDER BY messages DESC
LIMIT 10;
```

ะะตะทัะปััะฐั:
```
user_id: 123456789
full_name: ะะฒะฐะฝ ะะตััะพะฒ
username: ivan_petrov
profile_link: https://t.me/ivan_petrov
messages: 45
```

**ะะตะนััะฒะธะต:**
1. ะัะบัะพะนัะต: `https://t.me/ivan_petrov`
2. ะะฐะฟะธัะธัะต ัะพะพะฑัะตะฝะธะต

---

### ะัะธะผะตั 2: ะะฐะนัะธ ะฟะพะปัะทะพะฒะฐัะตะปั ะฟะพ ะบะปััะตะฒัะผ ัะปะพะฒะฐะผ

```sql
-- ะะฐะนัะธ ะฟะพะปัะทะพะฒะฐัะตะปะตะน, ัะฟะพะผะธะฝะฐะฒัะธั "ะธะฝะฒะตััะธัะธะธ"
SELECT DISTINCT
    user_id,
    first_name,
    last_name,
    username,
    profile_link
FROM messages
WHERE message ILIKE '%ะธะฝะฒะตััะธัะธะธ%'
ORDER BY first_name;
```

**ะะตะนััะฒะธะต:**
1. ะกะบะพะฟะธััะนัะต `profile_link`
2. ะััะฐะฒััะต ะฒ ะฑัะฐัะทะตั
3. ะัะบัะพะตััั ะฟัะพัะธะปั ะฒ Telegram

---

## โ๏ธ ะะฐัััะพะนะบะฐ

### ะะฑะฝะพะฒะธัะต ะฑะฐะทั ะดะฐะฝะฝัั:

ะะพะฑะฐะฒะปะตะฝะฐ ะบะพะปะพะฝะบะฐ `profile_link` - ะณะพัะพะฒะฐั ัััะปะบะฐ ะฝะฐ ะบะฐะถะดะพะณะพ ะฟะพะปัะทะพะฒะฐัะตะปั.

ะะปั **ัััะตััะฒัััะธั ะทะฐะฟะธัะตะน** ัััะปะบะธ ัะถะต ะพะฑะฝะพะฒะปะตะฝั.

ะะปั **ะฝะพะฒัั ัะพะพะฑัะตะฝะธะน** ัััะปะบะธ ัะพะทะดะฐัััั ะฐะฒัะพะผะฐัะธัะตัะบะธ.

---

## ๐ ะะตัะตะทะฐะฟัััะธัะต backend

```powershell
Ctrl+C
python run_backend.py
```

ะขะตะฟะตัั ะฒัะต ะฝะพะฒัะต ัะพะพะฑัะตะฝะธั ะฑัะดัั ัะพะดะตัะถะฐัั `profile_link`!

---

## ๐ ะัะพะณะพะฒะฐั ััะตะผะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ   ะกะพะพะฑัะตะฝะธะต ะฒ ะฑะฐะทะต ะดะฐะฝะฝัั           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ user_id: 123456789                  โ
โ first_name: ะะฒะฐะฝ                    โ
โ last_name: ะะตััะพะฒ                   โ
โ username: ivan_petrov               โ
โ profile_link: https://t.me/ivan_... โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ   ะัะบัะพะนัะต profile_link             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ   ะัะปะธ username ะตััั โ ะฟะธัะธัะต       โ
โ   ะัะปะธ ะฝะตั โ ะฟัะพะฒะตัััะต ะพะฑัะธะต ัะฐัั   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ฏ ะัะฒะพะด

- โ **`user_id`** - ะดะปั ัะฝะธะบะฐะปัะฝะพะน ะธะดะตะฝัะธัะธะบะฐัะธะธ
- โ **`username`** - ะดะปั ะฟััะผะพะน ัะฒัะทะธ (ะตัะปะธ ะตััั)
- โ **`profile_link`** - ะณะพัะพะฒะฐั ัััะปะบะฐ ะฝะฐ ะฟัะพัะธะปั
- โ **ะะฑัะธะต ัะฐัั** - ะปัััะธะน ัะฟะพัะพะฑ ัะฒัะทะฐัััั ะฑะตะท username
- โ๏ธ **ะะฐััะพะฒะฐั ัะฐัััะปะบะฐ** - ัะพะปัะบะพ ัะตัะตะท Bot API (ะธ ั ัะพะณะปะฐัะธั ะฟะพะปัะทะพะฒะฐัะตะปะตะน)

